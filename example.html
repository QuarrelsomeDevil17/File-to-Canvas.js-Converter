<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas.js Code Example</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .canvas-container {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: #fafafa;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        
        #canvas {
            border: 2px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .controls {
            margin: 20px 0;
            text-align: center;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: transform 0.2s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        .code-section {
            margin-top: 30px;
        }
        
        pre {
            background: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            overflow-x: auto;
            font-size: 12px;
            line-height: 1.4;
        }
        
        .info {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 5px 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¨ Canvas.js Implementation Example</h1>
        
        <div class="info">
            <strong>How to use:</strong> This page demonstrates how to implement the Canvas.js code generated by the File to Canvas.js Converter. 
            You can paste your generated code into the JavaScript section below and see it in action.
        </div>
        
        <div class="canvas-container">
            <canvas id="canvas" width="600" height="400"></canvas>
        </div>
        
        <div class="controls">
            <button class="btn" onclick="addSampleText()">Add Text</button>
            <button class="btn" onclick="addSampleRectangle()">Add Rectangle</button>
            <button class="btn" onclick="addSampleCircle()">Add Circle</button>
            <button class="btn" onclick="clearCanvas()">Clear Canvas</button>
            <button class="btn" onclick="downloadCanvas()">Download PNG</button>
        </div>
        
        <div class="code-section">
            <h3>Sample Canvas.js Implementation</h3>
            <pre><code>// Initialize Fabric.js Canvas
const canvas = new fabric.Canvas('canvas', {
    width: 600,
    height: 400,
    backgroundColor: '#ffffff'
});

// Function to add text
function addSampleText() {
    const text = new fabric.Text('Hello Canvas.js!', {
        left: Math.random() * 400,
        top: Math.random() * 300,
        fontSize: 20,
        fill: '#' + Math.floor(Math.random()*16777215).toString(16),
        fontFamily: 'Arial'
    });
    canvas.add(text);
    canvas.renderAll();
}

// Function to add rectangle
function addSampleRectangle() {
    const rect = new fabric.Rect({
        left: Math.random() * 400,
        top: Math.random() * 300,
        width: 80 + Math.random() * 40,
        height: 60 + Math.random() * 40,
        fill: '#' + Math.floor(Math.random()*16777215).toString(16),
        stroke: '#333',
        strokeWidth: 2
    });
    canvas.add(rect);
    canvas.renderAll();
}

// Function to add circle
function addSampleCircle() {
    const circle = new fabric.Circle({
        left: Math.random() * 400,
        top: Math.random() * 300,
        radius: 20 + Math.random() * 30,
        fill: '#' + Math.floor(Math.random()*16777215).toString(16),
        stroke: '#333',
        strokeWidth: 2
    });
    canvas.add(circle);
    canvas.renderAll();
}

// Function to clear canvas
function clearCanvas() {
    canvas.clear();
    canvas.backgroundColor = '#ffffff';
    canvas.renderAll();
}

// Function to download canvas as PNG
function downloadCanvas() {
    const dataURL = canvas.toDataURL({
        format: 'png',
        quality: 1.0
    });
    
    const link = document.createElement('a');
    link.download = 'canvas-export.png';
    link.href = dataURL;
    link.click();
}

// Event listeners for canvas interactions
canvas.on('object:selected', function(e) {
    console.log('Object selected:', e.target);
});

canvas.on('object:modified', function(e) {
    console.log('Object modified:', e.target);
    console.log('New position:', { x: e.target.left, y: e.target.top });
});

canvas.on('object:added', function(e) {
    console.log('Object added:', e.target);
});

// Initialize with a welcome message
canvas.on('after:render', function() {
    if (canvas.getObjects().length === 0) {
        const welcomeText = new fabric.Text('Click the buttons above to add objects!', {
            left: canvas.width / 2,
            top: canvas.height / 2,
            originX: 'center',
            originY: 'center',
            fontSize: 18,
            fill: '#666',
            fontFamily: 'Arial',
            selectable: false
        });
        canvas.add(welcomeText);
        canvas.renderAll();
    }
});

// Trigger the initial render
canvas.renderAll();</code></pre>
        </div>
        
        <div class="info">
            <strong>Instructions for your generated code:</strong>
            <ol>
                <li>Replace the sample code above with your generated Canvas.js code</li>
                <li>Make sure to include the Fabric.js library</li>
                <li>Initialize the canvas with the same ID as in your HTML</li>
                <li>Load your canvas data using <code>canvas.loadFromJSON()</code></li>
                <li>Add event listeners for interactivity</li>
            </ol>
        </div>
    </div>

    <script>
        // Initialize Fabric.js Canvas
        const canvas = new fabric.Canvas('canvas', {
            width: 600,
            height: 400,
            backgroundColor: '#ffffff'
        });

        // Function to add text
        function addSampleText() {
            const text = new fabric.Text('Hello Canvas.js!', {
                left: Math.random() * 400,
                top: Math.random() * 300,
                fontSize: 20,
                fill: '#' + Math.floor(Math.random()*16777215).toString(16),
                fontFamily: 'Arial'
            });
            canvas.add(text);
            canvas.renderAll();
        }

        // Function to add rectangle
        function addSampleRectangle() {
            const rect = new fabric.Rect({
                left: Math.random() * 400,
                top: Math.random() * 300,
                width: 80 + Math.random() * 40,
                height: 60 + Math.random() * 40,
                fill: '#' + Math.floor(Math.random()*16777215).toString(16),
                stroke: '#333',
                strokeWidth: 2
            });
            canvas.add(rect);
            canvas.renderAll();
        }

        // Function to add circle
        function addSampleCircle() {
            const circle = new fabric.Circle({
                left: Math.random() * 400,
                top: Math.random() * 300,
                radius: 20 + Math.random() * 30,
                fill: '#' + Math.floor(Math.random()*16777215).toString(16),
                stroke: '#333',
                strokeWidth: 2
            });
            canvas.add(circle);
            canvas.renderAll();
        }

        // Function to clear canvas
        function clearCanvas() {
            canvas.clear();
            canvas.backgroundColor = '#ffffff';
            canvas.renderAll();
        }

        // Function to download canvas as PNG
        function downloadCanvas() {
            const dataURL = canvas.toDataURL({
                format: 'png',
                quality: 1.0
            });
            
            const link = document.createElement('a');
            link.download = 'canvas-export.png';
            link.href = dataURL;
            link.click();
        }

        // Event listeners for canvas interactions
        canvas.on('object:selected', function(e) {
            console.log('Object selected:', e.target);
        });

        canvas.on('object:modified', function(e) {
            console.log('Object modified:', e.target);
            console.log('New position:', { x: e.target.left, y: e.target.top });
        });

        canvas.on('object:added', function(e) {
            console.log('Object added:', e.target);
        });

        // Initialize with a welcome message
        setTimeout(function() {
            if (canvas.getObjects().length === 0) {
                const welcomeText = new fabric.Text('Click the buttons above to add objects!', {
                    left: canvas.width / 2,
                    top: canvas.height / 2,
                    originX: 'center',
                    originY: 'center',
                    fontSize: 18,
                    fill: '#666',
                    fontFamily: 'Arial',
                    selectable: false
                });
                canvas.add(welcomeText);
                canvas.renderAll();
            }
        }, 100);
    </script>
</body>
</html>
